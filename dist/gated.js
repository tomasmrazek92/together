"use strict";(()=>{console.log("console");var c=window.location.pathname,i="gatedContent",l=JSON.parse(localStorage.getItem(i)||"{}"),o="{gated-content-start}",s=".section_blog-2-gated",a=".blog-2-article_overlay",n='[data-gated="content"]',e=$();console.log("Article URL:",c);console.log("Gated storage:",l);if($(n).text().includes(o))if(console.log("Gate marker found in content"),$(n).find("*").each(function(){if($(this).clone().children().remove().end().text().includes(o))return e=$(this),!1}),l[c])console.log("User has access - showing full content"),e.text(e.text().replace(o,"")),$(s).hide(),$(a).hide();else{console.log("User needs to gate - hiding content");let t=!1;$(n).find("*").each(function(){if($(this).is(e)){t=!0,$(this).hide();return}t&&!$.contains(e[0],this)&&$(this).hide()}),$(s).show(),$(a).show()}else console.log("No gate marker found - content is public");$(`${s} form`).on("submit",function(t){t.preventDefault(),console.log("Form submitted - unlocking content"),l[c]=!0,localStorage.setItem(i,JSON.stringify(l)),console.log("Access saved to localStorage"),$(n).find("*").show(),e.text(e.text().replace(o,"")),console.log("Content shown"),$(s).hide(),console.log("Gate removed")});})();
