{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/gated.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "const articleUrl = window.location.pathname;\nconst gatedContentItem = 'gatedContent';\nconst gatedContentStorage = JSON.parse(localStorage.getItem(gatedContentItem) || '{}');\nconst gateMarker = '{gated-content-start}';\nconst gateSection = '.section_blog-2-gated';\nconst gateOverlay = '.blog-2-article_overlay';\nconst gatedContent = '[data-gated=\"content\"]';\nlet $gateMarkerElement = $();\n\n// Read Time\nfunction initReadTime() {\n  $('[fs-readtime-element=\"time\"]').each(function () {\n    const $timeElement = $(this);\n    const $contentElement = $('[fs-readtime-element=\"contents\"]');\n\n    if (!$contentElement.length) return;\n\n    const wpm = $timeElement.attr('fs-readtime-wpm') || 200;\n    const decimals = parseInt($timeElement.attr('fs-readtime-decimals')) || 0;\n\n    const allText = $contentElement\n      .find('*')\n      .addBack()\n      .contents()\n      .filter(function () {\n        return this.nodeType === 3;\n      })\n      .text();\n\n    const wordsCount = (allText.match(/[\\w\\d''-]+/gi) || []).length;\n    const readTime = wordsCount / wpm;\n\n    $timeElement.text(!decimals && readTime < 0.5 ? '1' : readTime.toFixed(decimals));\n  });\n}\ninitReadTime();\n\nif ($(gatedContent).text().includes(gateMarker)) {\n  $(gatedContent)\n    .find('*')\n    .each(function () {\n      if ($(this).clone().children().remove().end().text().includes(gateMarker)) {\n        $gateMarkerElement = $(this);\n        return false;\n      }\n    });\n\n  if (gatedContentStorage[articleUrl]) {\n    $gateMarkerElement.text($gateMarkerElement.text().replace(gateMarker, ''));\n    $(gateSection).hide();\n    $(gateOverlay).hide();\n  } else {\n    let hideNext = false;\n    $(gatedContent)\n      .find('*')\n      .each(function () {\n        if ($(this).is($gateMarkerElement)) {\n          hideNext = true;\n          $(this).hide();\n          return;\n        }\n        if (hideNext && !$.contains($gateMarkerElement[0], this)) {\n          $(this).hide();\n        }\n      });\n\n    $(gateSection).show();\n    $(gateOverlay).show();\n  }\n} else {\n}\n\n$(`${gateSection} form`).on('submit', function (e) {\n  e.preventDefault();\n\n  gatedContentStorage[articleUrl] = true;\n  localStorage.setItem(gatedContentItem, JSON.stringify(gatedContentStorage));\n\n  $(gatedContent).find('*').show();\n  $gateMarkerElement.text($gateMarkerElement.text().replace(gateMarker, ''));\n\n  $(gateSection).hide();\n});\n"],
  "mappings": ";;;AAAA,MAAI,YAAY,GAAG,iCAAsB,EAAE,iBAAiB,UAAU,MAAM,SAAS,OAAO,CAAC;;;ACA7F,MAAM,aAAa,OAAO,SAAS;AACnC,MAAM,mBAAmB;AACzB,MAAM,sBAAsB,KAAK,MAAM,aAAa,QAAQ,gBAAgB,KAAK,IAAI;AACrF,MAAM,aAAa;AACnB,MAAM,cAAc;AACpB,MAAM,cAAc;AACpB,MAAM,eAAe;AACrB,MAAI,qBAAqB,EAAE;AAG3B,WAAS,eAAe;AACtB,MAAE,8BAA8B,EAAE,KAAK,WAAY;AACjD,YAAM,eAAe,EAAE,IAAI;AAC3B,YAAM,kBAAkB,EAAE,kCAAkC;AAE5D,UAAI,CAAC,gBAAgB;AAAQ;AAE7B,YAAM,MAAM,aAAa,KAAK,iBAAiB,KAAK;AACpD,YAAM,WAAW,SAAS,aAAa,KAAK,sBAAsB,CAAC,KAAK;AAExE,YAAM,UAAU,gBACb,KAAK,GAAG,EACR,QAAQ,EACR,SAAS,EACT,OAAO,WAAY;AAClB,eAAO,KAAK,aAAa;AAAA,MAC3B,CAAC,EACA,KAAK;AAER,YAAM,cAAc,QAAQ,MAAM,cAAc,KAAK,CAAC,GAAG;AACzD,YAAM,WAAW,aAAa;AAE9B,mBAAa,KAAK,CAAC,YAAY,WAAW,MAAM,MAAM,SAAS,QAAQ,QAAQ,CAAC;AAAA,IAClF,CAAC;AAAA,EACH;AACA,eAAa;AAEb,MAAI,EAAE,YAAY,EAAE,KAAK,EAAE,SAAS,UAAU,GAAG;AAC/C,MAAE,YAAY,EACX,KAAK,GAAG,EACR,KAAK,WAAY;AAChB,UAAI,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,UAAU,GAAG;AACzE,6BAAqB,EAAE,IAAI;AAC3B,eAAO;AAAA,MACT;AAAA,IACF,CAAC;AAEH,QAAI,oBAAoB,UAAU,GAAG;AACnC,yBAAmB,KAAK,mBAAmB,KAAK,EAAE,QAAQ,YAAY,EAAE,CAAC;AACzE,QAAE,WAAW,EAAE,KAAK;AACpB,QAAE,WAAW,EAAE,KAAK;AAAA,IACtB,OAAO;AACL,UAAI,WAAW;AACf,QAAE,YAAY,EACX,KAAK,GAAG,EACR,KAAK,WAAY;AAChB,YAAI,EAAE,IAAI,EAAE,GAAG,kBAAkB,GAAG;AAClC,qBAAW;AACX,YAAE,IAAI,EAAE,KAAK;AACb;AAAA,QACF;AACA,YAAI,YAAY,CAAC,EAAE,SAAS,mBAAmB,CAAC,GAAG,IAAI,GAAG;AACxD,YAAE,IAAI,EAAE,KAAK;AAAA,QACf;AAAA,MACF,CAAC;AAEH,QAAE,WAAW,EAAE,KAAK;AACpB,QAAE,WAAW,EAAE,KAAK;AAAA,IACtB;AAAA,EACF,OAAO;AAAA,EACP;AAEA,IAAE,GAAG,kBAAkB,EAAE,GAAG,UAAU,SAAU,GAAG;AACjD,MAAE,eAAe;AAEjB,wBAAoB,UAAU,IAAI;AAClC,iBAAa,QAAQ,kBAAkB,KAAK,UAAU,mBAAmB,CAAC;AAE1E,MAAE,YAAY,EAAE,KAAK,GAAG,EAAE,KAAK;AAC/B,uBAAmB,KAAK,mBAAmB,KAAK,EAAE,QAAQ,YAAY,EAAE,CAAC;AAEzE,MAAE,WAAW,EAAE,KAAK;AAAA,EACtB,CAAC;",
  "names": []
}
