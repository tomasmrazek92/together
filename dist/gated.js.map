{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/gated.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "$(document).ready(function () {\n  const articleUrl = window.location.pathname;\n  const gatedContentItem = 'gatedContent';\n  const gatedContentStorage = JSON.parse(localStorage.getItem(gatedContentItem) || '{}');\n  const gateMarker = '{gated-content-start}';\n  const gateSection = '.section_blog-2-gated';\n  const gateOverlay = '.blog-2-article_overlay';\n  const gatedContent = '[data-gated=\"content\"]';\n  let $gateMarkerElement = $();\n\n  function initReadTime() {\n    $('[fs-readtime-element=\"time\"]').each(function () {\n      const $timeElement = $(this);\n      const $contentElement = $('[fs-readtime-element=\"contents\"]');\n      if (!$contentElement.length) return;\n      const wpm = $timeElement.attr('fs-readtime-wpm') || 200;\n      const decimals = parseInt($timeElement.attr('fs-readtime-decimals')) || 0;\n      const allText = $contentElement\n        .find('*')\n        .addBack()\n        .contents()\n        .filter(function () {\n          return this.nodeType === 3;\n        })\n        .text();\n      const wordsCount = (allText.match(/[\\w\\d''-]+/gi) || []).length;\n      const readTime = wordsCount / wpm;\n      $timeElement.text(!decimals && readTime < 0.5 ? '1' : readTime.toFixed(decimals));\n    });\n  }\n\n  initReadTime();\n\n  setTimeout(() => {\n    if ($(gatedContent).text().includes(gateMarker)) {\n      const $paragraphs = $(gatedContent).find('p');\n\n      for (let i = 0; i < $paragraphs.length; i++) {\n        if ($paragraphs[i].textContent.trim() === gateMarker) {\n          $gateMarkerElement = $paragraphs.eq(i);\n          break;\n        }\n      }\n\n      if (gatedContentStorage[articleUrl]) {\n        $(gateSection).hide();\n        $(gateOverlay).hide();\n        $gateMarkerElement[0].textContent = '';\n      } else {\n        const markerNode = $gateMarkerElement[0];\n        const contentNode = $(gatedContent)[0];\n\n        while (markerNode.nextSibling) {\n          markerNode.nextSibling.remove();\n        }\n\n        let topParent = markerNode.parentNode;\n        while (topParent !== contentNode) {\n          while (topParent.nextSibling) {\n            topParent.nextSibling.remove();\n          }\n          topParent = topParent.parentNode;\n        }\n\n        markerNode.textContent = '';\n\n        $(gateSection).show();\n        $(gateOverlay).show();\n      }\n    }\n\n    $('form').on('submit', function (e) {\n      const $form = $(this);\n      let isValid = true;\n\n      const invalidDomains = [\n        'gmail.com',\n        'acme.com',\n        'gmali.com',\n        'hotmail.com',\n        'icloud.com',\n        'yahoo.com',\n        'zoho.com',\n        'aol.com',\n        'outlook.com',\n        'live.com',\n        'msn.com',\n        'gotransverse.com',\n        'alldata.com',\n        'me.com',\n        'comcast.net',\n        'verizon.net',\n        'att.net',\n        'charter.net',\n        'cox.net',\n        'inbox.com',\n        'mail.com',\n        'gmx.com',\n        'protonmail.com',\n        'tutanota.com',\n        'yandex.com',\n        'aol.co.uk',\n        'btinternet.com',\n        'talktalk.net',\n        'ntlworld.com',\n        'mac.com',\n        'googlemail.com',\n        'btopenworld.com',\n      ];\n\n      function isValidEmail(email) {\n        const emailRegex = /^[^\\s@]{1,}@[^\\s@]{2,}\\.[^\\s@]{2,}$/;\n        return emailRegex.test(email);\n      }\n\n      function validateEmail($input) {\n        const email = $input.val();\n        $input.siblings('.email-error').remove();\n\n        if (!email) return true;\n\n        if (!isValidEmail(email)) {\n          $input\n            .val('')\n            .attr('placeholder', 'Please enter a valid email address')\n            .addClass('error');\n          $input.after(\n            '<div class=\"email-error\" style=\"color: var(--red); font-size: 14px; font-weight: 500; line-height: 1.2;\">Please enter a valid email address</div>'\n          );\n          return false;\n        }\n\n        const domainPart = email.split('@')[1];\n        if (invalidDomains.includes(domainPart)) {\n          $input.val('').attr('placeholder', 'Please enter a business email').addClass('error');\n          $input.after(\n            '<div class=\"email-error\" style=\"color: var(--red); font-size: 14px; font-weight: 500; line-height: 1.2;\">Please use your business email address</div>'\n          );\n          return false;\n        }\n\n        $input.removeClass('error');\n        return true;\n      }\n\n      $form.find('input[type=\"email\"]').each(function () {\n        if (!validateEmail($(this))) {\n          isValid = false;\n        }\n      });\n\n      if (!isValid) {\n        e.preventDefault();\n        return false;\n      }\n\n      const $successMsg = $form.siblings('.w-form-done')[0];\n\n      const observer = new MutationObserver(function (mutations) {\n        mutations.forEach(function (mutation) {\n          if (mutation.attributeName === 'style') {\n            const display = window.getComputedStyle($successMsg).display;\n            if (display === 'block') {\n              gatedContentStorage[articleUrl] = true;\n              localStorage.setItem(gatedContentItem, JSON.stringify(gatedContentStorage));\n              setTimeout(() => location.reload(), 100);\n              observer.disconnect();\n            }\n          }\n        });\n      });\n\n      observer.observe($successMsg, { attributes: true });\n    });\n\n    $('form').on('input', 'input[type=\"email\"]', function () {\n      const $input = $(this);\n      $input.siblings('.email-error').remove();\n      $input.removeClass('error');\n    });\n  }, 1500);\n});\n"],
  "mappings": "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",
  "names": []
}
