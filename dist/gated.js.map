{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/gated.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "const articleUrl = window.location.pathname;\nconst gatedContentItem = 'gatedContent';\nconst gatedContentStorage = JSON.parse(localStorage.getItem(gatedContentItem) || '{}');\nconst gateMarker = '{gated-content-start}';\nconst gateSection = '.section_blog-2-gated';\nconst gateOverlay = '.blog-2-article_overlay';\nconst gatedContent = '[data-gated=\"content\"]';\nlet $gateMarkerElement = $();\n\nfunction initReadTime() {\n  $('[fs-readtime-element=\"time\"]').each(function () {\n    const $timeElement = $(this);\n    const $contentElement = $('[fs-readtime-element=\"contents\"]');\n    if (!$contentElement.length) return;\n    const wpm = $timeElement.attr('fs-readtime-wpm') || 200;\n    const decimals = parseInt($timeElement.attr('fs-readtime-decimals')) || 0;\n    const allText = $contentElement\n      .find('*')\n      .addBack()\n      .contents()\n      .filter(function () {\n        return this.nodeType === 3;\n      })\n      .text();\n    const wordsCount = (allText.match(/[\\w\\d''-]+/gi) || []).length;\n    const readTime = wordsCount / wpm;\n    $timeElement.text(!decimals && readTime < 0.5 ? '1' : readTime.toFixed(decimals));\n  });\n}\n\ninitReadTime();\n\nif ($(gatedContent).text().includes(gateMarker)) {\n  const $paragraphs = $(gatedContent).find('p');\n\n  for (let i = 0; i < $paragraphs.length; i++) {\n    if ($paragraphs[i].textContent.trim() === gateMarker) {\n      $gateMarkerElement = $paragraphs.eq(i);\n      break;\n    }\n  }\n\n  if (gatedContentStorage[articleUrl]) {\n    $(gateSection).hide();\n    $(gateOverlay).hide();\n    $gateMarkerElement[0].textContent = '';\n  } else {\n    const markerNode = $gateMarkerElement[0];\n    const contentNode = $(gatedContent)[0];\n\n    while (markerNode.nextSibling) {\n      markerNode.nextSibling.remove();\n    }\n\n    let topParent = markerNode.parentNode;\n    while (topParent !== contentNode) {\n      while (topParent.nextSibling) {\n        topParent.nextSibling.remove();\n      }\n      topParent = topParent.parentNode;\n    }\n\n    markerNode.textContent = '';\n\n    $(gateSection).show();\n    $(gateOverlay).show();\n  }\n}\n\n$('form').on('submit', function (e) {\n  const $form = $(this);\n  let isValid = true;\n\n  const invalidDomains = [\n    'gmail.com',\n    'acme.com',\n    'gmali.com',\n    'hotmail.com',\n    'icloud.com',\n    'yahoo.com',\n    'zoho.com',\n    'aol.com',\n    'outlook.com',\n    'live.com',\n    'msn.com',\n    'gotransverse.com',\n    'alldata.com',\n    'me.com',\n    'comcast.net',\n    'verizon.net',\n    'att.net',\n    'charter.net',\n    'cox.net',\n    'inbox.com',\n    'mail.com',\n    'gmx.com',\n    'protonmail.com',\n    'tutanota.com',\n    'yandex.com',\n    'aol.co.uk',\n    'btinternet.com',\n    'talktalk.net',\n    'ntlworld.com',\n    'mac.com',\n    'googlemail.com',\n    'btopenworld.com',\n  ];\n\n  function isValidEmail(email) {\n    const emailRegex = /^[^\\s@]{1,}@[^\\s@]{2,}\\.[^\\s@]{2,}$/;\n    return emailRegex.test(email);\n  }\n\n  function validateEmail($input) {\n    const email = $input.val();\n    $input.siblings('.email-error').remove();\n\n    if (!email) return true;\n\n    if (!isValidEmail(email)) {\n      $input.val('').attr('placeholder', 'Please enter a valid email address').addClass('error');\n      $input.after(\n        '<div class=\"email-error\" style=\"color: var(--red); font-size: 14px; font-weight: 500; line-height: 1.2;\">Please enter a valid email address</div>'\n      );\n      return false;\n    }\n\n    const domainPart = email.split('@')[1];\n    if (invalidDomains.includes(domainPart)) {\n      $input.val('').attr('placeholder', 'Please enter a business email').addClass('error');\n      $input.after(\n        '<div class=\"email-error\" style=\"color: var(--red); font-size: 14px; font-weight: 500; line-height: 1.2;\">Please use your business email address</div>'\n      );\n      return false;\n    }\n\n    $input.removeClass('error');\n    return true;\n  }\n\n  $form.find('input[type=\"email\"]').each(function () {\n    if (!validateEmail($(this))) {\n      isValid = false;\n    }\n  });\n\n  if (!isValid) {\n    e.preventDefault();\n    return false;\n  }\n\n  const $successMsg = $form.siblings('.w-form-done')[0];\n\n  const observer = new MutationObserver(function (mutations) {\n    mutations.forEach(function (mutation) {\n      if (mutation.attributeName === 'style') {\n        const display = window.getComputedStyle($successMsg).display;\n        if (display === 'block') {\n          gatedContentStorage[articleUrl] = true;\n          localStorage.setItem(gatedContentItem, JSON.stringify(gatedContentStorage));\n          setTimeout(() => location.reload(), 100);\n          observer.disconnect();\n        }\n      }\n    });\n  });\n\n  observer.observe($successMsg, { attributes: true });\n});\n\n$('form').on('input', 'input[type=\"email\"]', function () {\n  const $input = $(this);\n  $input.siblings('.email-error').remove();\n  $input.removeClass('error');\n});\n"],
  "mappings": "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",
  "names": []
}
