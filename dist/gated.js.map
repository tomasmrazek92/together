{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/gated.js"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "console.log('console');\n\nconst articleUrl = window.location.pathname;\nconst gatedContentItem = 'gatedContent';\nconst gatedContentStorage = JSON.parse(localStorage.getItem(gatedContentItem) || '{}');\nconst gateMarker = '{gated-content-start}';\nconst gateSection = '.section_blog-2-gated';\nconst gateOverlay = '.blog-2-article_overlay';\nconst gatedContent = '[data-gated=\"content\"]';\nlet $gateMarkerElement = $();\n\nconsole.log('Article URL:', articleUrl);\nconsole.log('Gated storage:', gatedContentStorage);\n\nif ($(gatedContent).text().includes(gateMarker)) {\n  console.log('Gate marker found in content');\n\n  $(gatedContent)\n    .find('*')\n    .each(function () {\n      if ($(this).clone().children().remove().end().text().includes(gateMarker)) {\n        $gateMarkerElement = $(this);\n        return false;\n      }\n    });\n\n  if (gatedContentStorage[articleUrl]) {\n    console.log('User has access - showing full content');\n    $gateMarkerElement.text($gateMarkerElement.text().replace(gateMarker, ''));\n    $(gateSection).hide();\n    $(gateOverlay).hide();\n  } else {\n    console.log('User needs to gate - hiding content');\n\n    let hideNext = false;\n    $(gatedContent)\n      .find('*')\n      .each(function () {\n        if ($(this).is($gateMarkerElement)) {\n          hideNext = true;\n          $(this).hide();\n          return;\n        }\n        if (hideNext && !$.contains($gateMarkerElement[0], this)) {\n          $(this).hide();\n        }\n      });\n\n    $(gateSection).show();\n    $(gateOverlay).show();\n  }\n} else {\n  console.log('No gate marker found - content is public');\n}\n\n$(`${gateSection} form`).on('submit', function (e) {\n  e.preventDefault();\n  console.log('Form submitted - unlocking content');\n\n  gatedContentStorage[articleUrl] = true;\n  localStorage.setItem(gatedContentItem, JSON.stringify(gatedContentStorage));\n  console.log('Access saved to localStorage');\n\n  $(gatedContent).find('*').show();\n  $gateMarkerElement.text($gateMarkerElement.text().replace(gateMarker, ''));\n  console.log('Content shown');\n\n  $(gateSection).hide();\n  console.log('Gate removed');\n});\n"],
  "mappings": ";;;AAAA,MAAI,YAAY,GAAG,iCAAsB,EAAE,iBAAiB,UAAU,MAAM,SAAS,OAAO,CAAC;;;ACA7F,UAAQ,IAAI,SAAS;AAErB,MAAM,aAAa,OAAO,SAAS;AACnC,MAAM,mBAAmB;AACzB,MAAM,sBAAsB,KAAK,MAAM,aAAa,QAAQ,gBAAgB,KAAK,IAAI;AACrF,MAAM,aAAa;AACnB,MAAM,cAAc;AACpB,MAAM,cAAc;AACpB,MAAM,eAAe;AACrB,MAAI,qBAAqB,EAAE;AAE3B,UAAQ,IAAI,gBAAgB,UAAU;AACtC,UAAQ,IAAI,kBAAkB,mBAAmB;AAEjD,MAAI,EAAE,YAAY,EAAE,KAAK,EAAE,SAAS,UAAU,GAAG;AAC/C,YAAQ,IAAI,8BAA8B;AAE1C,MAAE,YAAY,EACX,KAAK,GAAG,EACR,KAAK,WAAY;AAChB,UAAI,EAAE,IAAI,EAAE,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,KAAK,EAAE,SAAS,UAAU,GAAG;AACzE,6BAAqB,EAAE,IAAI;AAC3B,eAAO;AAAA,MACT;AAAA,IACF,CAAC;AAEH,QAAI,oBAAoB,UAAU,GAAG;AACnC,cAAQ,IAAI,wCAAwC;AACpD,yBAAmB,KAAK,mBAAmB,KAAK,EAAE,QAAQ,YAAY,EAAE,CAAC;AACzE,QAAE,WAAW,EAAE,KAAK;AACpB,QAAE,WAAW,EAAE,KAAK;AAAA,IACtB,OAAO;AACL,cAAQ,IAAI,qCAAqC;AAEjD,UAAI,WAAW;AACf,QAAE,YAAY,EACX,KAAK,GAAG,EACR,KAAK,WAAY;AAChB,YAAI,EAAE,IAAI,EAAE,GAAG,kBAAkB,GAAG;AAClC,qBAAW;AACX,YAAE,IAAI,EAAE,KAAK;AACb;AAAA,QACF;AACA,YAAI,YAAY,CAAC,EAAE,SAAS,mBAAmB,CAAC,GAAG,IAAI,GAAG;AACxD,YAAE,IAAI,EAAE,KAAK;AAAA,QACf;AAAA,MACF,CAAC;AAEH,QAAE,WAAW,EAAE,KAAK;AACpB,QAAE,WAAW,EAAE,KAAK;AAAA,IACtB;AAAA,EACF,OAAO;AACL,YAAQ,IAAI,0CAA0C;AAAA,EACxD;AAEA,IAAE,GAAG,kBAAkB,EAAE,GAAG,UAAU,SAAU,GAAG;AACjD,MAAE,eAAe;AACjB,YAAQ,IAAI,oCAAoC;AAEhD,wBAAoB,UAAU,IAAI;AAClC,iBAAa,QAAQ,kBAAkB,KAAK,UAAU,mBAAmB,CAAC;AAC1E,YAAQ,IAAI,8BAA8B;AAE1C,MAAE,YAAY,EAAE,KAAK,GAAG,EAAE,KAAK;AAC/B,uBAAmB,KAAK,mBAAmB,KAAK,EAAE,QAAQ,YAAY,EAAE,CAAC;AACzE,YAAQ,IAAI,eAAe;AAE3B,MAAE,WAAW,EAAE,KAAK;AACpB,YAAQ,IAAI,cAAc;AAAA,EAC5B,CAAC;",
  "names": []
}
