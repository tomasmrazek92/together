"use strict";(()=>{var U=window.innerWidth,N={};var re=(l,s,n,r,u)=>{let d=$(l);d.length!==0&&(N[n]=0,N[n]=N[n]||0,d.each(function(){let f=`${n}_${N[n]}`;ce(this,s,f,[".swiper-arrow",".swiper-navigation"]);let p=de(r,f);fe(this,s,f,n,p,u),N[n]++}))},ce=(l,s,n,r)=>{r.forEach(u=>{$(l).find(u).addClass(n)}),$(l).find(s).addClass(n)},de=(l,s)=>Object.assign({},l,{navigation:{prevEl:`.swiper-arrow.prev.${s}`,nextEl:`.swiper-arrow.next.${s}`},pagination:{el:`.swiper-navigation.${s}`,type:"bullets",bulletActiveClass:"w-active",bulletClass:"w-slider-dot"}}),fe=(l,s,n,r,u,d)=>{swipers[r]=swipers[r]||{},swipers[r][n]=swipers[r][n]||{};let f=swipers[r][n],p=f.swiperInstance,b=d==="desktop"&&window.matchMedia("(min-width: 992px)").matches,g=d==="mobile"&&window.matchMedia("(min-width: 0px) and (max-width: 991px)").matches,x=d==="all",T=()=>{f.observer&&(f.observer.disconnect(),delete f.observer),p&&(p.destroy(!0,!0),delete swipers[r][n],console.log("Swiper destroyed for",s,"with uniqueKey",n))};!b&&d==="desktop"||!g&&d==="mobile"||!x&&d==="all"?T():(b||g||x)&&!p&&(()=>{f.observer&&f.observer.disconnect();let k=$(`${s}.${n}`)[0],e=new IntersectionObserver(i=>{i.forEach(t=>{if(t.isIntersecting&&(b||g||x)&&!p){let a=new Swiper(`${s}.${n}`,u);swipers[r][n]={swiperInstance:a,mode:b?"desktop":g?"mobile":"all",initialized:!0},e.disconnect(),console.log("Swiper initialized for",s,"with uniqueKey",n)}})},{});swipers[r][n].observer=e,e.observe(k)})()},J=l=>{l.forEach(s=>{re(...s)})},q=(l,s)=>{J(l),window.addEventListener("resize",function(){window.innerWidth!==U&&(U=window.innerWidth,J(l))})},S=(l,s)=>{let n=l.find(".progress-line"),r=s.params.autoplay.delay,u=s.realIndex,d=l.find(".navigation").find(".progress-bar"),f=d.eq(u),p=f.find(n);n.stop().css("width","0"),d.removeClass("active"),f.addClass("active"),p.animate({width:"100%"},r)};var z=l=>{let s=n=>{if(n.nodeType===Node.TEXT_NODE){if(!n.parentNode.classList.contains("letter")){let r=n.textContent,u=document.createDocumentFragment();for(let d=0;d<r.length;d++){let f=document.createElement("span");f.className="letter",f.textContent=r[d],u.appendChild(f)}n.parentNode.replaceChild(u,n)}}else n.nodeType===Node.ELEMENT_NODE&&n.tagName!=="BR"&&Array.from(n.childNodes).forEach(s)};$(l).contents().each(function(){s(this)})},Z=(l,s)=>{let n=gsap.timeline(),r=0;return $(l).each((u,d)=>{let f=$(d).find(".letter").not(".line-numbers-row .code-letter"),p=$(d).find(".word-highlight");if(f.each((b,g)=>{n.fromTo(g,{visibility:"hidden"},{visibility:"initial"},r*s,"<"),r++}),p.length){let b=p[0],g=window.getComputedStyle(b).getPropertyValue("background-color"),x=window.getComputedStyle(b).getPropertyValue("box-shadow"),T=(t,a)=>{let[h,v,_]=t.match(/\w\w/g).map(P=>parseInt(P,16));return`rgba(${h}, ${v}, ${_}, ${a})`},L=t=>{let a=t.replace(/^rgba?\(/,"").replace(/\)$/,"").split(",");return`rgba(${a[0]}, ${a[1]}, ${a[2]}, 0)`},k=t=>/^#(?:[0-9a-f]{3}){1,2}$/i.test(t),e=k(g)?T(g,0):L(g),i=x.replace(/rgba?\([^)]+\)/g,t=>k(t)?T(t,0):L(t));Array.from(p).forEach(t=>{t.style.backgroundColor=e,t.style.boxShadow=i}),n.to(p,{backgroundColor:g,boxShadow:x,duration:.35},"<")}}),n},R=l=>{let s=document.createElement("textarea");s.value=l,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s)},M=(l,s)=>{let n;return n=s||.01,z(l),Z(l,n)},K=(l,s)=>{let n=$(l).find("code"),r=n.find(".line-numbers-rows").eq(0).clone(),u;return u=s||.01,n.find(".line-numbers-rows").remove(),z(n),n.prepend(r),Z(n,u)},W=!1,Q,ee=()=>{W?$("html, body").scrollTop(Q).removeClass("overflow-hidden"):(Q=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden")),W=!W};$(document).ready(function(){function l(e,i=!0){$(e).css("opacity",i?"1":"0")}$(document.links).filter(function(){return this.hostname!==window.location.hostname}).attr("target","_blank"),$("sup").on("click",function(){let e=$(this).text();console.log("click");let i=$("#footer-notes").find("li").eq(e);if(i.length>0){let t=i.offset().top-$(window).height()/2;$("html, body").animate({scrollTop:t},500)}});function s(){let e=document.querySelectorAll("*");for(let i of e){if(i.tagName.toLowerCase()==="body"||i.tagName.toLowerCase()==="html")continue;let t=window.getComputedStyle(i);(t.overflow==="auto"||t.overflow==="scroll"||t.overflowX==="auto"||t.overflowX==="scroll"||t.overflowY==="auto"||t.overflowY==="scroll")&&(i.classList.add("no-scrollbar"),i.classList.add("swiper-no-swiping"))}}s(),$(".w-richtext .w-embed pre").on("click",function(){let e=$(this).find("code").text();R(e)});let n=$(".video_modal"),r=n.find("video");$('[open-modal="true"]').on("click",function(){n.fadeIn(),u(r)}),$(".video_modal-trigger, .video_close-modal").on("click",()=>{n.fadeOut(),u(r)});function u(e){e.length&&(e.get(0).paused?e.get(0).play():(e.get(0).pause(),e.get(0).currentTime=0))}if(sessionStorage.getItem("isReloaded")||window.scrollTo(0,0),sessionStorage.getItem("isReloaded")){var{hash:d}=window.location;d&&$("html, body").animate({scrollTop:$(d).offset().top},0)}$(window).on("beforeunload",function(){sessionStorage.setItem("isReloaded","true")}),$(".navbar_button").on("click",function(){ee()}),f(),$(window).on("scroll",f);function f(){let i=10*parseFloat(getComputedStyle(document.documentElement).fontSize),t=$(window).scrollTop(),a=$(".navbar_wrapper"),h=!1;$(".background-color-charcoal").each(function(){let v=$(this).offset().top,_=$(this).height();if(t<=v+_-i&&t>=v-i)return h=!0,!1}),h&&!a.hasClass("background-color-charcoal")?a.addClass("background-color-charcoal"):!h&&a.hasClass("background-color-charcoal")&&a.removeClass("background-color-charcoal")}$(window).on("scroll load",function(){var e=$(window).scrollTop(),i=$(".navbar"),t="sticky";e>=200?i.hasClass(t)||i.addClass(t):i.removeClass(t)}),$("[animated-hero]").each(function(){let e=$(this).find("h1").find("span"),i=gsap.timeline();i.add(M(e,.1)),i.to($(this).find(".hp-hero_par").find("p"),{opacity:1,stagger:.2},"<0.2"),i.to($(this).find(".button"),{opacity:1,stagger:.2},"<0.2")}),$("[output-text]").each(function(){z($(this)),l($(this))});let p=$("[faq-item]");p.click(function(){let e=$(this);e.hasClass("open")?e.removeClass("open"):(e.closest("section").find(p).filter(".open").click().removeClass("open"),e.addClass("open"))}),p.each(function(){$(this).attr("expand-default")==="true"&&$(this).trigger("click")});function b(e){$(e).each(function(){let i=$(this),t=$(".swiper-slide"),a=$(".autotabs_link"),h=$(".autotabs_content-item"),v=$(".progress-line"),_="is-active",P=11e3,F,A=new Map,B=!0,ue=!1;function te(){return[[".autotabs_wrap",".autotabs_menu","auto-tabs",{slidesPerView:"auto",spaceBetween:40,on:{init:o=>{O($(o.el).closest(".autotabs_wrap"),o.realIndex)},beforeTransitionStart:o=>{o.realIndex===o.slides-1&&(o.slideTo(0),O($(o.el).closest(".autotabs_wrap"),o.realIndex))},slideChange:o=>{O($(o.el).closest(".autotabs_wrap"),o.realIndex)}}},"mobile"]]}function H(o,c){if(!B)return;let m=(c+1)%$(o).find(t).length;F=setTimeout(()=>{O($(o),m),H($(o),m)},P)}function O(o,c,m=null){let y=m&&m.type==="click";Y($(o));let w=$(o).find(t).eq(c).find(a),C=$(o).find(h).eq(c);if(w.addClass(_),C.find("video").length){let I=C.find("video").get(0);I.readyState>=3?(I.currentTime=0,I.play()):I.addEventListener("loadeddata",function(){I.currentTime=0,I.play()})}C.stop().css("display","flex").fadeIn(function(){C.css("opacity","1"),C.find(".chat-conv_box").length?ne($(o),c):C.find(".code-box").length&&se($(C))}),y||oe(w)}function ie(o){let c=o.get(0);if(A.get(c))return;B=!0,A.set(c,!0);let m=0;O($(o),m),H($(o),m)}function oe(o){o.find(v).animate({width:"100%"},P)}let D;function ne(o,c){D&&D.kill();let m=$(o).find(h).eq(c),y=m.find("[input-text]"),w=m.find("[output-text]");y.stop().animate({opacity:1},function(){setTimeout(()=>{D=M(w,2/w.text().length)},250)})}let V;function se(o){let c=$(o).find("code").text().length;V&&V.kill(),V=K(o,2/c)}function le(o){let c=o.get(0);X($(o)),A.set(c,!1)}function X(o){B=!1,clearTimeout(F),Y(o),$(o).find(h).eq(0).show()}function Y(o){$(o).find(a).filter(`.${_}`).removeClass(_),$(o).find(v).stop(!0,!0).css("width","0%"),$(o).find(h).hide(),$(o).find(h).find(".letter").css("visibility","hidden"),l($(o).find(h).find("[input-text]"),!1)}let pe=$(window).width(),j=null,E=new Map;function G(o){let c=o.get(0),m=A.get(c)||!1,y=$(window).width();y!==j&&(j=y,y<=991?m&&le(o):ae(o))}function ae(o){o.each(function(){let c=$(this);E.has(c[0])&&(E.get(c[0]).disconnect(),E.delete(c[0]))}),o.each(function(){let c=$(this),m=new IntersectionObserver(y=>{y.forEach(w=>{let C=w.target,I=A.get(C)||!1;w.isIntersecting&&(w.isIntersecting&&!I&&ie($(w.target)),E.has(w.target)&&(E.get(w.target).disconnect(),E.delete(w.target)))})},{root:null,rootMargin:"0px",threshold:.5});m.observe(c[0]),E.set(c[0],m)})}G(i),q(te(i)),$(window).on("resize",()=>{G(i)}),i.find(t).on("click",function(o){$(window).width()>=992&&(X(i),O(i,$(this).index(),o))})})}b($(".autotabs_wrap")),$(".chat-conv_copy-icon").on("click",function(){let e=$(this).closest(".chat-conv").length?$(this).closest(".chat-conv"):$(this).closest(".code-box"),i=e.find("[input-text]").text()||e.find("[output-text]").text()||e.find(".code-box_code").text();i&&R(i)}),$(".pill-header").each(function(){gsap.timeline({defaults:{ease:"power4.out"},paused:!0,scrollTrigger:{trigger:$(this),start:"center bottom"}}).add(g($(this)))});function g(e){let i=$(e).find(".pill-a, .pill-b, .pill-circle, .callout_p"),t=gsap.timeline({defaults:{ease:"power4.out",duration:.4}});return i.each(function(){let a=$(this),h=a.attr("class").split(" ")[0],v=a.find('div[class*="text"]');h==="pill-a"||h==="pill-b"?(t.fromTo(a.find("[mask]"),{xPercent:-100},{xPercent:0},">-0.2"),a.attr("direction")==="vertical"?t.fromTo(v,{yPercent:150},{yPercent:0},">-0.2"):t.fromTo(v,{xPercent:-110},{xPercent:0},">-0.2")):h==="callout_p"?t.add(M(a,.02),">-0.2"):h==="pill-circle"&&t.fromTo(a,{scale:0},{scale:1,duration:.5},">-0.3"),t.add(t,"-=0.2")}),t}$("input[type='radio'][name='filter']").change(function(){let e=$(this).closest("section");e.find("[fs-cmsfilter-element='clear']").removeClass("fs-cmsfilter_active"),e.find("input[type='radio'][name='filter']:checked").closest("[fs-cmsfilter-element='clear']").addClass("fs-cmsfilter_active")});function x(e){$(e).toggleClass("open")}$(".filters").find(".button").on("click",function(){let e=$(this).closest(".filters").find(".filters-block");x(e)}),$(document).on("click",function(e){($(e.target).closest(".filters").length===0||$(e.target).closest(".filters-menu").length>=1)&&x($(".filters-block.open"))}),$(".filters .tab").on("click",function(){let e=$(this).text();$(this).closest(".filters").find(".button").find("div").eq(0).text(e)});let T=[[".section_case-quote",".case-quote_slider","case-study",{slidesPerView:1,spaceBetween:40,effect:"creative",creativeEffect:{prev:{translate:[0,0,-400]},next:{translate:["100%",0,0]}},loop:!0,autoplay:{delay:11e3,disableOnInteraction:!1},on:{init:e=>{let t=$(".case-quote_image").eq(e.realIndex);t.find("video").length&&L(t),S($(".section_case-quote"),e)},slideChange:e=>{let i=$(".case-quote_image"),t=i.eq(e.realIndex);i.hide(),i.stop().filter(t).fadeIn(),t.find("video").length&&L(t),S($(".section_case-quote"),e)}}},"all"],[".section_callout",".callout_box","callout",{slidesPerView:1,spaceBetween:40,loop:!0,autoplay:{delay:11e3,disableOnInteraction:!1},on:{init:function(e){$(this.slides).each((t,a)=>{console.log(a),a.gsapTimeline=gsap.timeline({paused:!0}),a.gsapTimeline.add(g($(a)))}),$(this.slidesEl).css("opacity","1");let i=$(this.slides).eq(this.activeIndex);S($(".callout_wrap"),this),i[0].gsapTimeline.play()},slideChange:function(){$(this.slides).each((i,t)=>{t.gsapTimeline&&(t.gsapTimeline.progress(0).pause(),t.gsapTimeline.kill())}),$(this.slides).eq(this.activeIndex)[0].gsapTimeline.play(),S($(".callout_wrap"),this)}}},"all"]];function L(e){let i=e.find("video").get(0);i.readyState>=3?(i.currentTime=0,i.play()):i.addEventListener("loadeddata",function(){i.currentTime=0,i.play()})}q(T);let k;setTimeout(()=>{q(T),$(".case-quote_content-box").find(".navigation-box").on("mouseenter",function(){let e=$(this).index();swipers["case-study"]["case-study_0"].swiperInstance.slideToLoop(e)}),$(".callout_wrap").find(".navigation-box").on("mouseenter",function(){k=setTimeout(()=>{let e=$(this).index();swipers.callout.callout_0.swiperInstance.slideToLoop(e)},500)}),$(".callout_wrap").find(".navigation-box").on("mouseleave",function(){clearTimeout(k)})},200)});})();
