"use strict";(()=>{var K=window.innerWidth,P={};var ue=(l,s,i,a,p)=>{let f=$(l);f.length!==0&&(P[i]=0,P[i]=P[i]||0,f.each(function(){let d=`${i}_${P[i]}`;pe(this,s,d,[".swiper-arrow",".swiper-navigation"]);let h=he(a,d);we(this,s,d,i,h,p),P[i]++}))},pe=(l,s,i,a)=>{a.forEach(p=>{$(l).find(p).addClass(i)}),$(l).find(s).addClass(i)},he=(l,s)=>Object.assign({},l,{navigation:{prevEl:`.swiper-arrow.prev.${s}`,nextEl:`.swiper-arrow.next.${s}`},pagination:{el:`.swiper-navigation.${s}`,type:"bullets",bulletActiveClass:"w-active",bulletClass:"w-slider-dot"}}),we=(l,s,i,a,p,f)=>{swipers[a]=swipers[a]||{},swipers[a][i]=swipers[a][i]||{};let d=swipers[a][i],h=d.swiperInstance,g=f==="desktop"&&window.matchMedia("(min-width: 992px)").matches,v=f==="mobile"&&window.matchMedia("(min-width: 0px) and (max-width: 991px)").matches,k=f==="all",x=()=>{d.observer&&(d.observer.disconnect(),delete d.observer),h&&(h.destroy(!0,!0),delete swipers[a][i],console.log("Swiper destroyed for",s,"with uniqueKey",i))};!g&&f==="desktop"||!v&&f==="mobile"||!k&&f==="all"?x():(g||v||k)&&!h&&(()=>{d.observer&&d.observer.disconnect();let _=$(`${s}.${i}`)[0];if(!$(_).length)return;let I=new IntersectionObserver(q=>{q.forEach(w=>{if(w.isIntersecting&&(g||v||k)&&!h){let T=new Swiper(`${s}.${i}`,p);swipers[a][i]={swiperInstance:T,mode:g?"desktop":v?"mobile":"all",initialized:!0},I.disconnect(),console.log("Swiper initialized for",s,"with uniqueKey",i)}})},{});swipers[a][i].observer=I,I.observe(_)})()},ee=l=>{l.forEach(s=>{ue(...s)})},B=(l,s)=>{ee(l),window.addEventListener("resize",function(){window.innerWidth!==K&&(K=window.innerWidth,ee(l))})},z=(l,s)=>{$(l).each(function(){let i=$(this),a=i.find(".progress-line"),p=s.params.autoplay.delay,f=s.realIndex,d=i.find(".navigation").find(".progress-bar"),h=d.eq(f),g=h.find(a);a.stop().css("width","0"),d.removeClass("active"),h.addClass("active"),g.animate({width:"100%"},p)})};var D=l=>{let s=i=>{if(i.nodeType===Node.TEXT_NODE){if(!i.parentNode.classList.contains("letter")){let a=i.textContent,p=document.createDocumentFragment();for(let f=0;f<a.length;f++){let d=document.createElement("span");d.className="letter",d.textContent=a[f],p.appendChild(d)}i.parentNode.replaceChild(p,i)}}else i.nodeType===Node.ELEMENT_NODE&&i.tagName!=="BR"&&Array.from(i.childNodes).forEach(s)};$(l).contents().each(function(){s(this)})},ne=(l,s)=>{let i=gsap.timeline(),a=0;return $(l).each((p,f)=>{let d=$(f).find(".letter").not(".line-numbers-row .code-letter"),h=$(f).find(".word-highlight");if(d.each((g,v)=>{i.fromTo(v,{visibility:"hidden"},{visibility:"initial"},a*s,"<"),a++}),h.length){let g=h[0],v=window.getComputedStyle(g).getPropertyValue("background-color"),k=window.getComputedStyle(g).getPropertyValue("box-shadow"),x=(w,T)=>{let[e,t,n]=w.match(/\w\w/g).map(r=>parseInt(r,16));return`rgba(${e}, ${t}, ${n}, ${T})`},S=w=>{let T=w.replace(/^rgba?\(/,"").replace(/\)$/,"").split(",");return`rgba(${T[0]}, ${T[1]}, ${T[2]}, 0)`},_=w=>/^#(?:[0-9a-f]{3}){1,2}$/i.test(w),I=_(v)?x(v,0):S(v),q=k.replace(/rgba?\([^)]+\)/g,w=>_(w)?x(w,0):S(w));Array.from(h).forEach(w=>{w.style.backgroundColor=I,w.style.boxShadow=q}),i.to(h,{backgroundColor:v,boxShadow:k,duration:.35},"<")}}),i},X=l=>{let s=document.createElement("textarea");s.value=l,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s)},Y=(l,s)=>{let i;return i=s||.01,D(l),ne(l,i)},oe=(l,s)=>{let i=$(l).find("code"),a=i.find(".line-numbers-rows").eq(0).clone(),p;return p=s||.01,i.find(".line-numbers-rows").remove(),D(i),i.prepend(a),ne(i,p)},R=!1,te,ie=()=>{R?$("html, body").scrollTop(te).removeClass("overflow-hidden"):(te=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden")),R=!R};$(document).ready(function(){function l(e,t=!0){$(e).css("opacity",t?"1":"0")}$(document.links).filter(function(){return this.hostname!==window.location.hostname}).attr("target","_blank");let s;$("sup").on("click",function(){let e=$(this).text(),t=$("#footer-notes").find("li").eq(e-1);if(t.length>0){let n=t.offset().top-$(window).height()/2;$("html, body").animate({scrollTop:n},500),t.css("color","var(--charcoal)"),clearTimeout(s),s=setTimeout(()=>{t.removeAttr("style")},5e3)}});function i(){let e=document.querySelectorAll("*");for(let t of e){if(t.tagName.toLowerCase()==="body"||t.tagName.toLowerCase()==="html")continue;let n=window.getComputedStyle(t);(n.overflow==="auto"||n.overflow==="scroll"||n.overflowX==="auto"||n.overflowX==="scroll"||n.overflowY==="auto"||n.overflowY==="scroll")&&(t.classList.add("no-scrollbar"),t.classList.add("swiper-no-swiping"))}}i(),$(".w-richtext .w-embed pre").on("click",function(){let e=$(this).find("code").text();X(e)});let a=$(".video_modal"),p=a.find("video");$('[open-modal="true"]').on("click",function(){a.fadeIn(),f(p,!0)}),$(".video_modal-trigger, .video_close-modal").on("click",()=>{a.fadeOut(),f(p,!1)});function f(e,t){e.length&&(e.get(0).paused?t&&e.get(0).play():(e.get(0).pause(),e.get(0).currentTime=0))}$(".navbar_button").on("click",function(){ie()}),$(".navbar .tab").on("click",function(){window.innerWidth<=991&&$(".navbar_button").trigger("tap")});let d=()=>{if(window.innerWidth<=991){let e=new MutationObserver(()=>{let t=document.querySelector(".nav_dropdown .dropdown.w--open"),n=document.querySelector(".navbar_menu");n&&(t?(n.style.overflow="hidden",n.scrollTop=0):n.style.overflow="")});document.querySelectorAll(".nav_dropdown .dropdown").forEach(t=>{e.observe(t,{attributes:!0,attributeFilter:["class"]})}),window.dropdownObserver=e}else{window.dropdownObserver&&(window.dropdownObserver.disconnect(),window.dropdownObserver=null);let e=document.querySelector(".navbar_menu");e&&(e.style.overflow="")}};d(),$(window).on("resize",d),h(),$(window).on("scroll",h);function h(){let t=10*parseFloat(getComputedStyle(document.documentElement).fontSize),n=$(window).scrollTop(),r=$(".navbar_wrapper"),u=!1;$(".background-color-charcoal").each(function(){let E=$(this).offset().top,N=$(this).height();if(E+N>=n+t&&E<=n+t)return u=!0,!1}),u&&!r.hasClass("background-color-charcoal")?r.addClass("background-color-charcoal"):!u&&r.hasClass("background-color-charcoal")&&r.removeClass("background-color-charcoal")}$(window).on("scroll load",function(){var e=$(window).scrollTop(),t=$(".navbar"),n="sticky";e>=100?t.hasClass(n)||t.addClass(n):t.removeClass(n)});function g(){var e=$(".sub-navbar_pill"),t=e.find(".navbar_link.w--current");if(t.length){var n=e.offset().left,r=t.offset().left,u=e.scrollLeft()+(r-n);e.animate({scrollLeft:u},500)}}var v=new MutationObserver(function(e){e.forEach(function(t){if(t.attributeName==="class"){var n=$(t.target);n.hasClass("w--current")&&g()}})}),k={attributes:!0,childList:!1,subtree:!1};$(".navbar_link").each(function(){v.observe(this,k)}),setTimeout(()=>{g()},300),$(document).ready(function(){$(".dropdown-inner_respo-label").on("click",function(){$(this).closest(".w-dropdown").trigger("w-close")});let e=document.querySelector(".nav_dropdown .w-dropdown-toggle");e&&new MutationObserver(function(n){n.forEach(function(r){if(r.attributeName==="class"){let u=$(e).hasClass("w--open")}})}).observe(e,{attributes:!0})}),$(document).ready(function(){let e=$(".subnav_link"),t=0;function n(r){e.addClass("inactive").removeClass("active"),e.eq(r).removeClass("inactive").addClass("active"),t=(t+1)%e.length,setTimeout(function(){n(t)},3e3)}n(t)}),$("[output-text]").each(function(){D($(this)),l($(this))});let x=$("[faq-item]");x.click(function(){let e=$(this);e.hasClass("open")?e.removeClass("open"):(e.closest("section").find(x).filter(".open").click().removeClass("open"),e.addClass("open"))}),x.each(function(){$(this).attr("expand-default")==="true"&&$(this).trigger("click")});function S(e){$(e).each(function(){let t=$(this),n=$(".swiper-slide"),r=$(".autotabs_link"),u=$(".autotabs_content-item"),E=$(".progress-line"),N="is-active",V=11e3,j,M=new Map,W=!0,me=!1;function se(){return[[".autotabs_wrap",".autotabs_menu","auto-tabs",{slidesPerView:"auto",spaceBetween:40,on:{init:o=>{A($(o.el).closest(".autotabs_wrap"),o.realIndex)},beforeTransitionStart:o=>{o.realIndex===o.slides-1&&(o.slideTo(0),A($(o.el).closest(".autotabs_wrap"),o.realIndex))},slideChange:o=>{A($(o.el).closest(".autotabs_wrap"),o.realIndex)}}},"mobile"]]}function G(o,c){if(!W)return;let m=(c+1)%$(o).find(n).length;j=setTimeout(()=>{A($(o),m),G($(o),m)},V)}function A(o,c,m=null){let C=m&&m.type==="click";J($(o));let b=$(o).find(n).eq(c).find(r),y=$(o).find(u).eq(c);if(b.addClass(N),y.find("video").length){let O=y.find("video").get(0);O.readyState>=3?(O.currentTime=0,O.play()):O.addEventListener("loadeddata",function(){O.currentTime=0,O.play()})}y.stop().css("display","flex").fadeIn(function(){y.css("opacity","1"),y.find(".chat-conv_box").length?re($(o),c):y.find(".code-box").length&&ce($(y))}),C||ae(b)}function le(o){let c=o.get(0);if(M.get(c))return;W=!0,M.set(c,!0);let m=0;A($(o),m),G($(o),m)}function ae(o){o.find(E).animate({width:"100%"},V)}let F;function re(o,c){F&&F.kill();let m=$(o).find(u).eq(c),C=m.find("[input-text]"),b=m.find("[output-text]");C.stop().animate({opacity:1},function(){setTimeout(()=>{F=Y(b,2/b.text().length)},250)})}let H;function ce(o){let c=$(o).find("code").text().length;H&&H.kill(),H=oe(o,2/c)}function de(o){let c=o.get(0);U($(o)),M.set(c,!1)}function U(o){W=!1,clearTimeout(j),J(o),$(o).find(u).eq(0).show()}function J(o){$(o).find(r).filter(`.${N}`).removeClass(N),$(o).find(E).stop(!0,!0).css("width","0%"),$(o).find(u).hide(),$(o).find(u).find(".letter").css("visibility","hidden"),l($(o).find(u).find("[input-text]"),!1)}let ge=$(window).width(),Q=null,L=new Map;function Z(o){let c=o.get(0),m=M.get(c)||!1,C=$(window).width();C!==Q&&(Q=C,C<=991?m&&de(o):fe(o))}function fe(o){o.each(function(){let c=$(this);L.has(c[0])&&(L.get(c[0]).disconnect(),L.delete(c[0]))}),o.each(function(){let c=$(this),m=new IntersectionObserver(C=>{C.forEach(b=>{let y=b.target,O=M.get(y)||!1;b.isIntersecting&&(b.isIntersecting&&!O&&le($(b.target)),L.has(b.target)&&(L.get(b.target).disconnect(),L.delete(b.target)))})},{root:null,rootMargin:"0px",threshold:.5});m.observe(c[0]),L.set(c[0],m)})}Z(t),B(se(t)),$(window).on("resize",()=>{Z(t)}),t.find(n).on("click",function(o){$(window).width()>=992&&(U(t),A(t,$(this).index(),o))})})}S($(".autotabs_wrap")),$(".chat-conv_copy-icon").on("click",function(){let e=$(this).closest(".chat-conv").length?$(this).closest(".chat-conv"):$(this).closest(".code-box"),t=e.find("[input-text]").text()||e.find("[output-text]").text()||e.find(".code-box_code").text();t&&X(t)}),$(".pill-header").each(function(){gsap.timeline({defaults:{ease:"power4.out"},paused:!0,scrollTrigger:{trigger:$(this),start:"center bottom"}}).add(_($(this)))});function _(e){let t=$(e).find(".pill-a, .pill-b, .pill-circle, .callout_p"),n=gsap.timeline({defaults:{ease:"power4.out",duration:.4}});return t.each(function(){let r=$(this),u=r.attr("class").split(" ")[0],E=r.find('div[class*="text"]');u==="pill-a"||u==="pill-b"?(n.fromTo(r.find("[mask]"),{xPercent:-100},{xPercent:0},">-0.2"),r.attr("direction")==="vertical"?n.fromTo(E,{yPercent:150},{yPercent:0},">-0.2"):n.fromTo(E,{xPercent:-110},{xPercent:0},">-0.2")):u==="callout_p"?n.add(Y(r,.02),">-0.2"):u==="pill-circle"&&n.fromTo(r,{scale:0},{scale:1,duration:.5},">-0.3"),n.add(n,"-=0.2")}),n}$("input[type='radio'][name='filter']").change(function(){let e=$(this).closest("section");e.find("[fs-cmsfilter-element='clear']").removeClass("fs-cmsfilter_active"),e.find("input[type='radio'][name='filter']:checked").closest("[fs-cmsfilter-element='clear']").addClass("fs-cmsfilter_active")});function I(e){$(e).toggleClass("open")}$(".filters").find(".button").on("click",function(){let e=$(this).closest(".filters").find(".filters-block");I(e)}),$(document).on("click",function(e){($(e.target).closest(".filters").length===0||$(e.target).closest(".filters-menu").length>=1)&&I($(".filters-block.open"))}),$(".filters .tab").on("click",function(){let e=$(this).text();$(this).closest(".filters").find(".button").find("div").eq(0).text(e)});let q=[[".section_case-quote",".case-quote_slider","case-study",{slidesPerView:1,spaceBetween:40,effect:"creative",creativeEffect:{prev:{translate:[0,0,-400]},next:{translate:["100%",0,0]}},loop:!0,on:{init:e=>{let n=$(".case-quote_image").eq(e.realIndex);n.find("video").length&&w(n),z($(".section_case-quote"),e)},slideChange:e=>{let t=$(".case-quote_image"),n=t.eq(e.realIndex);t.hide(),t.stop().filter(n).fadeIn(),n.find("video").length&&w(n),z($(".section_case-quote"),e)}}},"all"],[".section_callout",".callout_box","callout",{slidesPerView:1,spaceBetween:40,loop:!0,autoplay:{delay:11e3,disableOnInteraction:!1},on:{init:function(e){$(this.slides).each((n,r)=>{console.log(r),r.gsapTimeline=gsap.timeline({paused:!0}),r.gsapTimeline.add(_($(r)))}),$(this.slidesEl).css("opacity","1");let t=$(this.slides).eq(this.activeIndex);z($(".callout_wrap"),this),t[0].gsapTimeline.play()},slideChange:function(){$(this.slides).each((t,n)=>{n.gsapTimeline&&(n.gsapTimeline.progress(0).pause(),n.gsapTimeline.kill())}),$(this.slides).eq(this.activeIndex)[0].gsapTimeline.play(),z($(".callout_wrap"),this)}}},"all"]];function w(e){let t=e.find("video").get(0);t.readyState>=3?(t.currentTime=0,t.play()):t.addEventListener("loadeddata",function(){t.currentTime=0,t.play()})}$(".case-quote_image").on("click mouseenter",function(){$(this).find("video").attr("controls",!0)}),B(q);let T;setTimeout(()=>{B(q),$(".case-quote_content-box").find(".navigation-box").on("mouseenter",function(){let e=$(this).index();swipers["case-study"]["case-study_0"].swiperInstance.slideToLoop(e)}),$(".callout_wrap").find(".navigation-box").on("mouseenter",function(){T=setTimeout(()=>{let e=$(this).index();swipers.callout.callout_0.swiperInstance.slideToLoop(e)},500)}),$(".callout_wrap").find(".navigation-box").on("mouseleave",function(){clearTimeout(T)})},200)});})();
