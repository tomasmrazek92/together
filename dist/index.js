"use strict";(()=>{var Z=window.innerWidth,q={};var fe=(a,l,i,r,s)=>{let f=$(a);f.length!==0&&(q[i]=0,q[i]=q[i]||0,f.each(function(){let d=`${i}_${q[i]}`;ue(this,l,d,[".swiper-arrow",".swiper-navigation"]);let h=pe(r,d);he(this,l,d,i,h,s),q[i]++}))},ue=(a,l,i,r)=>{r.forEach(s=>{$(a).find(s).addClass(i)}),$(a).find(l).addClass(i)},pe=(a,l)=>Object.assign({},a,{navigation:{prevEl:`.swiper-arrow.prev.${l}`,nextEl:`.swiper-arrow.next.${l}`},pagination:{el:`.swiper-navigation.${l}`,type:"bullets",bulletActiveClass:"w-active",bulletClass:"w-slider-dot"}}),he=(a,l,i,r,s,f)=>{swipers[r]=swipers[r]||{},swipers[r][i]=swipers[r][i]||{};let d=swipers[r][i],h=d.swiperInstance,b=f==="desktop"&&window.matchMedia("(min-width: 992px)").matches,x=f==="mobile"&&window.matchMedia("(min-width: 0px) and (max-width: 991px)").matches,C=f==="all",y=()=>{d.observer&&(d.observer.disconnect(),delete d.observer),h&&(h.destroy(!0,!0),delete swipers[r][i],console.log("Swiper destroyed for",l,"with uniqueKey",i))};!b&&f==="desktop"||!x&&f==="mobile"||!C&&f==="all"?y():(b||x||C)&&!h&&(()=>{d.observer&&d.observer.disconnect();let I=$(`${l}.${i}`)[0],g=new IntersectionObserver(w=>{w.forEach(c=>{if(c.isIntersecting&&(b||x||C)&&!h){let e=new Swiper(`${l}.${i}`,s);swipers[r][i]={swiperInstance:e,mode:b?"desktop":x?"mobile":"all",initialized:!0},g.disconnect(),console.log("Swiper initialized for",l,"with uniqueKey",i)}})},{});swipers[r][i].observer=g,g.observe(I)})()},K=a=>{a.forEach(l=>{fe(...l)})},S=(a,l)=>{K(a),window.addEventListener("resize",function(){window.innerWidth!==Z&&(Z=window.innerWidth,K(a))})},B=(a,l)=>{let i=a.find(".progress-line"),r=l.params.autoplay.delay,s=l.realIndex,f=a.find(".navigation").find(".progress-bar"),d=f.eq(s),h=d.find(i);i.stop().css("width","0"),f.removeClass("active"),d.addClass("active"),h.animate({width:"100%"},r)};var D=a=>{let l=i=>{if(i.nodeType===Node.TEXT_NODE){if(!i.parentNode.classList.contains("letter")){let r=i.textContent,s=document.createDocumentFragment();for(let f=0;f<r.length;f++){let d=document.createElement("span");d.className="letter",d.textContent=r[f],s.appendChild(d)}i.parentNode.replaceChild(s,i)}}else i.nodeType===Node.ELEMENT_NODE&&i.tagName!=="BR"&&Array.from(i.childNodes).forEach(l)};$(a).contents().each(function(){l(this)})},te=(a,l)=>{let i=gsap.timeline(),r=0;return $(a).each((s,f)=>{let d=$(f).find(".letter").not(".line-numbers-row .code-letter"),h=$(f).find(".word-highlight");if(d.each((b,x)=>{i.fromTo(x,{visibility:"hidden"},{visibility:"initial"},r*l,"<"),r++}),h.length){let b=h[0],x=window.getComputedStyle(b).getPropertyValue("background-color"),C=window.getComputedStyle(b).getPropertyValue("box-shadow"),y=(c,e)=>{let[t,o,u]=c.match(/\w\w/g).map(m=>parseInt(m,16));return`rgba(${t}, ${o}, ${u}, ${e})`},k=c=>{let e=c.replace(/^rgba?\(/,"").replace(/\)$/,"").split(",");return`rgba(${e[0]}, ${e[1]}, ${e[2]}, 0)`},I=c=>/^#(?:[0-9a-f]{3}){1,2}$/i.test(c),g=I(x)?y(x,0):k(x),w=C.replace(/rgba?\([^)]+\)/g,c=>I(c)?y(c,0):k(c));Array.from(h).forEach(c=>{c.style.backgroundColor=g,c.style.boxShadow=w}),i.to(h,{backgroundColor:x,boxShadow:C,duration:.35},"<")}}),i},Y=a=>{let l=document.createElement("textarea");l.value=a,document.body.appendChild(l),l.select(),document.execCommand("copy"),document.body.removeChild(l)},z=(a,l)=>{let i;return i=l||.01,D(a),te(a,i)},ie=(a,l)=>{let i=$(a).find("code"),r=i.find(".line-numbers-rows").eq(0).clone(),s;return s=l||.01,i.find(".line-numbers-rows").remove(),D(i),i.prepend(r),te(i,s)},H=!1,ee,ne=()=>{H?$("html, body").scrollTop(ee).removeClass("overflow-hidden"):(ee=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden")),H=!H};$(document).ready(function(){function a(e,t=!0){$(e).css("opacity",t?"1":"0")}$(document.links).filter(function(){return this.hostname!==window.location.hostname}).attr("target","_blank");let l;$("sup").on("click",function(){let e=$(this).text(),t=$("#footer-notes").find("li").eq(e-1);if(t.length>0){let o=t.offset().top-$(window).height()/2;$("html, body").animate({scrollTop:o},500),t.css("color","var(--charcoal)"),clearTimeout(l),l=setTimeout(()=>{t.removeAttr("style")},5e3)}});function i(){let e=document.querySelectorAll("*");for(let t of e){if(t.tagName.toLowerCase()==="body"||t.tagName.toLowerCase()==="html")continue;let o=window.getComputedStyle(t);(o.overflow==="auto"||o.overflow==="scroll"||o.overflowX==="auto"||o.overflowX==="scroll"||o.overflowY==="auto"||o.overflowY==="scroll")&&(t.classList.add("no-scrollbar"),t.classList.add("swiper-no-swiping"))}}i(),$(".w-richtext .w-embed pre").on("click",function(){let e=$(this).find("code").text();Y(e)});let r=$(".video_modal"),s=r.find("video");$('[open-modal="true"]').on("click",function(){r.fadeIn(),f(s)}),$(".video_modal-trigger, .video_close-modal").on("click",()=>{r.fadeOut(),f(s)});function f(e){e.length&&(e.get(0).paused?e.get(0).play():(e.get(0).pause(),e.get(0).currentTime=0))}$(".navbar_button").on("click",function(){ne()}),$(".navbar .tab").on("click",function(){window.innerWidth<=991&&$(".navbar_button").trigger("tap")}),d(),$(window).on("scroll",d);function d(){let t=10*parseFloat(getComputedStyle(document.documentElement).fontSize),o=$(window).scrollTop(),u=$(".navbar_wrapper"),m=!1;$(".background-color-charcoal").each(function(){let L=$(this).offset().top,P=$(this).height();if(o<=L+P-t&&o>=L-t)return m=!0,!1}),m&&!u.hasClass("background-color-charcoal")?u.addClass("background-color-charcoal"):!m&&u.hasClass("background-color-charcoal")&&u.removeClass("background-color-charcoal")}$(window).on("scroll load",function(){var e=$(window).scrollTop(),t=$(".navbar"),o="sticky";e>=200?t.hasClass(o)||t.addClass(o):t.removeClass(o)});function h(){var e=$(".sub-navbar_pill"),t=$(".navbar_link.w--current");if(t.length){var o=e.offset().left,u=t.offset().left,m=e.scrollLeft()+(u-o);e.animate({scrollLeft:m},500)}}var b=new MutationObserver(function(e){e.forEach(function(t){if(t.attributeName==="class"){var o=$(t.target);o.hasClass("w--current")&&h()}})}),x={attributes:!0,childList:!1,subtree:!1};$(".navbar_link").each(function(){b.observe(this,x)}),setTimeout(()=>{h()},300),$("[animated-hero]").each(function(){let e=$(this).find("h1").find("span"),t=gsap.timeline();t.add(z(e,.1)),t.to($(this).find(".hp-hero_par").find("p"),{opacity:1,stagger:.2},"<0.2"),t.to($(this).find(".button"),{opacity:1,stagger:.2},"<0.2")}),$("[output-text]").each(function(){D($(this)),a($(this))});let C=$("[faq-item]");C.click(function(){let e=$(this);e.hasClass("open")?e.removeClass("open"):(e.closest("section").find(C).filter(".open").click().removeClass("open"),e.addClass("open"))}),C.each(function(){$(this).attr("expand-default")==="true"&&$(this).trigger("click")});function y(e){$(e).each(function(){let t=$(this),o=$(".swiper-slide"),u=$(".autotabs_link"),m=$(".autotabs_content-item"),L=$(".progress-line"),P="is-active",Q=11e3,R,N=new Map,F=!0,me=!1;function oe(){return[[".autotabs_wrap",".autotabs_menu","auto-tabs",{slidesPerView:"auto",spaceBetween:40,on:{init:n=>{A($(n.el).closest(".autotabs_wrap"),n.realIndex)},beforeTransitionStart:n=>{n.realIndex===n.slides-1&&(n.slideTo(0),A($(n.el).closest(".autotabs_wrap"),n.realIndex))},slideChange:n=>{A($(n.el).closest(".autotabs_wrap"),n.realIndex)}}},"mobile"]]}function X(n,p){if(!F)return;let v=(p+1)%$(n).find(o).length;R=setTimeout(()=>{A($(n),v),X($(n),v)},Q)}function A(n,p,v=null){let _=v&&v.type==="click";G($(n));let T=$(n).find(o).eq(p).find(u),E=$(n).find(m).eq(p);if(T.addClass(P),E.find("video").length){let M=E.find("video").get(0);M.readyState>=3?(M.currentTime=0,M.play()):M.addEventListener("loadeddata",function(){M.currentTime=0,M.play()})}E.stop().css("display","flex").fadeIn(function(){E.css("opacity","1"),E.find(".chat-conv_box").length?ae($(n),p):E.find(".code-box").length&&re($(E))}),_||le(T)}function se(n){let p=n.get(0);if(N.get(p))return;F=!0,N.set(p,!0);let v=0;A($(n),v),X($(n),v)}function le(n){n.find(L).animate({width:"100%"},Q)}let V;function ae(n,p){V&&V.kill();let v=$(n).find(m).eq(p),_=v.find("[input-text]"),T=v.find("[output-text]");_.stop().animate({opacity:1},function(){setTimeout(()=>{V=z(T,2/T.text().length)},250)})}let W;function re(n){let p=$(n).find("code").text().length;W&&W.kill(),W=ie(n,2/p)}function ce(n){let p=n.get(0);j($(n)),N.set(p,!1)}function j(n){F=!1,clearTimeout(R),G(n),$(n).find(m).eq(0).show()}function G(n){$(n).find(u).filter(`.${P}`).removeClass(P),$(n).find(L).stop(!0,!0).css("width","0%"),$(n).find(m).hide(),$(n).find(m).find(".letter").css("visibility","hidden"),a($(n).find(m).find("[input-text]"),!1)}let ge=$(window).width(),U=null,O=new Map;function J(n){let p=n.get(0),v=N.get(p)||!1,_=$(window).width();_!==U&&(U=_,_<=991?v&&ce(n):de(n))}function de(n){n.each(function(){let p=$(this);O.has(p[0])&&(O.get(p[0]).disconnect(),O.delete(p[0]))}),n.each(function(){let p=$(this),v=new IntersectionObserver(_=>{_.forEach(T=>{let E=T.target,M=N.get(E)||!1;T.isIntersecting&&(T.isIntersecting&&!M&&se($(T.target)),O.has(T.target)&&(O.get(T.target).disconnect(),O.delete(T.target)))})},{root:null,rootMargin:"0px",threshold:.5});v.observe(p[0]),O.set(p[0],v)})}J(t),S(oe(t)),$(window).on("resize",()=>{J(t)}),t.find(o).on("click",function(n){$(window).width()>=992&&(j(t),A(t,$(this).index(),n))})})}y($(".autotabs_wrap")),$(".chat-conv_copy-icon").on("click",function(){let e=$(this).closest(".chat-conv").length?$(this).closest(".chat-conv"):$(this).closest(".code-box"),t=e.find("[input-text]").text()||e.find("[output-text]").text()||e.find(".code-box_code").text();t&&Y(t)}),$(".pill-header").each(function(){gsap.timeline({defaults:{ease:"power4.out"},paused:!0,scrollTrigger:{trigger:$(this),start:"center bottom"}}).add(k($(this)))});function k(e){let t=$(e).find(".pill-a, .pill-b, .pill-circle, .callout_p"),o=gsap.timeline({defaults:{ease:"power4.out",duration:.4}});return t.each(function(){let u=$(this),m=u.attr("class").split(" ")[0],L=u.find('div[class*="text"]');m==="pill-a"||m==="pill-b"?(o.fromTo(u.find("[mask]"),{xPercent:-100},{xPercent:0},">-0.2"),u.attr("direction")==="vertical"?o.fromTo(L,{yPercent:150},{yPercent:0},">-0.2"):o.fromTo(L,{xPercent:-110},{xPercent:0},">-0.2")):m==="callout_p"?o.add(z(u,.02),">-0.2"):m==="pill-circle"&&o.fromTo(u,{scale:0},{scale:1,duration:.5},">-0.3"),o.add(o,"-=0.2")}),o}$("input[type='radio'][name='filter']").change(function(){let e=$(this).closest("section");e.find("[fs-cmsfilter-element='clear']").removeClass("fs-cmsfilter_active"),e.find("input[type='radio'][name='filter']:checked").closest("[fs-cmsfilter-element='clear']").addClass("fs-cmsfilter_active")});function I(e){$(e).toggleClass("open")}$(".filters").find(".button").on("click",function(){let e=$(this).closest(".filters").find(".filters-block");I(e)}),$(document).on("click",function(e){($(e.target).closest(".filters").length===0||$(e.target).closest(".filters-menu").length>=1)&&I($(".filters-block.open"))}),$(".filters .tab").on("click",function(){let e=$(this).text();$(this).closest(".filters").find(".button").find("div").eq(0).text(e)});let g=[[".section_case-quote",".case-quote_slider","case-study",{slidesPerView:1,spaceBetween:40,effect:"creative",creativeEffect:{prev:{translate:[0,0,-400]},next:{translate:["100%",0,0]}},loop:!0,on:{init:e=>{let o=$(".case-quote_image").eq(e.realIndex);o.find("video").length&&w(o),B($(".section_case-quote"),e)},slideChange:e=>{let t=$(".case-quote_image"),o=t.eq(e.realIndex);t.hide(),t.stop().filter(o).fadeIn(),o.find("video").length&&w(o),B($(".section_case-quote"),e)}}},"all"],[".section_callout",".callout_box","callout",{slidesPerView:1,spaceBetween:40,loop:!0,autoplay:{delay:11e3,disableOnInteraction:!1},on:{init:function(e){$(this.slides).each((o,u)=>{console.log(u),u.gsapTimeline=gsap.timeline({paused:!0}),u.gsapTimeline.add(k($(u)))}),$(this.slidesEl).css("opacity","1");let t=$(this.slides).eq(this.activeIndex);B($(".callout_wrap"),this),t[0].gsapTimeline.play()},slideChange:function(){$(this.slides).each((t,o)=>{o.gsapTimeline&&(o.gsapTimeline.progress(0).pause(),o.gsapTimeline.kill())}),$(this.slides).eq(this.activeIndex)[0].gsapTimeline.play(),B($(".callout_wrap"),this)}}},"all"]];function w(e){let t=e.find("video").get(0);t.readyState>=3?(t.currentTime=0,t.play()):t.addEventListener("loadeddata",function(){t.currentTime=0,t.play()})}$(".case-quote_image").on("click mouseenter",function(){$(this).find("video").attr("controls",!0)}),S(g);let c;setTimeout(()=>{S(g),$(".case-quote_content-box").find(".navigation-box").on("mouseenter",function(){let e=$(this).index();swipers["case-study"]["case-study_0"].swiperInstance.slideToLoop(e)}),$(".callout_wrap").find(".navigation-box").on("mouseenter",function(){c=setTimeout(()=>{let e=$(this).index();swipers.callout.callout_0.swiperInstance.slideToLoop(e)},500)}),$(".callout_wrap").find(".navigation-box").on("mouseleave",function(){clearTimeout(c)})},200)});$(document).ready(function(){$(".list-b_link").each(function(){var a=$(this),l=a.closest(".w-dyn-item").index(),i=a.find("svg"),r=i.width(),s=i.height()/2,f=i.find(".top-path"),d=a.closest(".w-dyn-items").find(".w-dyn-item").eq(l+1).find(".top-path"),h=!0,b=!0,x=!1,C=!1;function y(g){var w=((s/2-g)/(s/2)*(s/2)).toFixed(2);w=Math.max(Math.min(w,s/4),-s/4);var c=s/2-w;c=Math.max(Math.min(c,s),0),h?(console.log("Top"),console.log(c),gsap.killTweensOf(f),gsap.to(f,{duration:1,ease:"power1.out",attr:{d:`M 0,${s/2} Q ${r/2},${c} ${r},${s/2}`},onComplete:()=>{console.log("Done")}}),h=!1,b=!0):(f.attr("d",`M 0,${s/2} Q ${r/2},${c} ${r},${s/2}`),d.attr("d",`M 0,${s*.5} L ${r},${s*.5}`))}function k(g){var w=((g-s/2)/(s/2)*(s/2)).toFixed(2);w=Math.max(Math.min(w,s/4),0);var c=s/2+w;c=Math.max(Math.min(c,s),0),b&&(console.log("Bottom"),console.log(c),console.log(d),gsap.killTweensOf(d),gsap.to(d,{duration:1,ease:"power1.out",attr:{d:`M 0,${s*.5} Q ${r/2},${c} ${r},${s*.5}`},onComplete:()=>{console.log("Done")}}),h=!0,b=!1)}function I(){var g=a.outerHeight();y(g/2),k(g/2)}I(),a.mousemove(function(g){var w=a.offset(),c=g.pageY-w.top,e=a.outerHeight();c<e/2?y(c):k(c)})})});})();
