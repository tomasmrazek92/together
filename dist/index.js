"use strict";(()=>{var Y=window.innerWidth,O={};var se=(l,s,n,a,h)=>{let d=$(l);d.length!==0&&(O[n]=0,O[n]=O[n]||0,d.each(function(){let f=`${n}_${O[n]}`;le(this,s,f,[".swiper-arrow",".swiper-navigation"]);let m=ae(a,f);re(this,s,f,n,m,h),O[n]++}))},le=(l,s,n,a)=>{a.forEach(h=>{$(l).find(h).addClass(n)}),$(l).find(s).addClass(n)},ae=(l,s)=>Object.assign({},l,{navigation:{prevEl:`.swiper-arrow.prev.${s}`,nextEl:`.swiper-arrow.next.${s}`},pagination:{el:`.swiper-navigation.${s}`,type:"bullets",bulletActiveClass:"w-active",bulletClass:"w-slider-dot"}}),re=(l,s,n,a,h,d)=>{swipers[a]=swipers[a]||{},swipers[a][n]=swipers[a][n]||{};let f=swipers[a][n],m=f.swiperInstance,v=d==="desktop"&&window.matchMedia("(min-width: 992px)").matches,w=d==="mobile"&&window.matchMedia("(min-width: 0px) and (max-width: 991px)").matches,e=d==="all",t=()=>{f.observer&&(f.observer.disconnect(),delete f.observer),m&&(m.destroy(!0,!0),delete swipers[a][n],console.log("Swiper destroyed for",s,"with uniqueKey",n))};!v&&d==="desktop"||!w&&d==="mobile"||!e&&d==="all"?t():(v||w||e)&&!m&&(()=>{f.observer&&f.observer.disconnect();let r=$(`${s}.${n}`)[0],u=new IntersectionObserver(x=>{x.forEach(p=>{if(p.isIntersecting&&(v||w||e)&&!m){let T=new Swiper(`${s}.${n}`,h);swipers[a][n]={swiperInstance:T,mode:v?"desktop":w?"mobile":"all",initialized:!0},u.disconnect(),console.log("Swiper initialized for",s,"with uniqueKey",n)}})},{});swipers[a][n].observer=u,u.observe(r)})()},j=l=>{l.forEach(s=>{se(...s)})},P=(l,s)=>{j(l),window.addEventListener("resize",function(){window.innerWidth!==Y&&(Y=window.innerWidth,j(l))})},A=(l,s)=>{let n=l.find(".progress-line"),a=s.params.autoplay.delay,h=s.realIndex,d=l.find(".navigation").find(".progress-bar"),f=d.eq(h),m=f.find(n);n.stop().css("width","0"),d.removeClass("active"),f.addClass("active"),m.animate({width:"100%"},a)};var S=l=>{let s=n=>{if(n.nodeType===Node.TEXT_NODE){if(!n.parentNode.classList.contains("letter")){let a=n.textContent,h=document.createDocumentFragment();for(let d=0;d<a.length;d++){let f=document.createElement("span");f.className="letter",f.textContent=a[d],h.appendChild(f)}n.parentNode.replaceChild(h,n)}}else n.nodeType===Node.ELEMENT_NODE&&n.tagName!=="BR"&&Array.from(n.childNodes).forEach(s)};$(l).contents().each(function(){s(this)})},U=(l,s)=>{let n=gsap.timeline(),a=0;return $(l).each((h,d)=>{let f=$(d).find(".letter").not(".line-numbers-row .code-letter"),m=$(d).find(".word-highlight");if(f.each((v,w)=>{n.fromTo(w,{visibility:"hidden"},{visibility:"initial"},a*s,"<"),a++}),m.length){let v=m[0],w=window.getComputedStyle(v).getPropertyValue("background-color"),e=window.getComputedStyle(v).getPropertyValue("box-shadow"),t=(p,T)=>{let[N,k,L]=p.match(/\w\w/g).map(V=>parseInt(V,16));return`rgba(${N}, ${k}, ${L}, ${T})`},o=p=>{let T=p.replace(/^rgba?\(/,"").replace(/\)$/,"").split(",");return`rgba(${T[0]}, ${T[1]}, ${T[2]}, 0)`},r=p=>/^#(?:[0-9a-f]{3}){1,2}$/i.test(p),u=r(w)?t(w,0):o(w),x=e.replace(/rgba?\([^)]+\)/g,p=>r(p)?t(p,0):o(p));Array.from(m).forEach(p=>{p.style.backgroundColor=u,p.style.boxShadow=x}),n.to(m,{backgroundColor:w,boxShadow:e,duration:.35},"<")}}),n},M=l=>{let s=document.createElement("textarea");s.value=l,document.body.appendChild(s),s.select(),document.execCommand("copy"),document.body.removeChild(s)},q=(l,s)=>{let n;return n=s||.01,S(l),U(l,n)},J=(l,s)=>{let n=$(l).find("code"),a=n.find(".line-numbers-rows").eq(0).clone(),h;return h=s||.01,n.find(".line-numbers-rows").remove(),S(n),n.prepend(a),U(n,h)},D=!1,G,Q=()=>{D?$("html, body").scrollTop(G).removeClass("overflow-hidden"):(G=$(window).scrollTop(),$("html, body").scrollTop(0).addClass("overflow-hidden")),D=!D};$(document).ready(function(){function l(e,t=!0){$(e).css("opacity",t?"1":"0")}$(document.links).filter(function(){return this.hostname!==window.location.hostname}).attr("target","_blank"),$("sup").on("click",function(){let e=$(this).text();console.log("click");let t=$("#footer-notes").find("li").eq(e);if(t.length>0){let o=t.offset().top-$(window).height()/2;$("html, body").animate({scrollTop:o},500)}});function s(){let e=document.querySelectorAll("*");for(let t of e){if(t.tagName.toLowerCase()==="body"||t.tagName.toLowerCase()==="html")continue;let o=window.getComputedStyle(t);(o.overflow==="auto"||o.overflow==="scroll"||o.overflowX==="auto"||o.overflowX==="scroll"||o.overflowY==="auto"||o.overflowY==="scroll")&&(t.classList.add("no-scrollbar"),t.classList.add("swiper-no-swiping"))}}s(),$(".w-richtext .w-embed pre").on("click",function(){let e=$(this).find("code").text();M(e)}),$(".navbar_button").on("click",function(){Q()}),n(),$(window).on("scroll",n);function n(){let t=10*parseFloat(getComputedStyle(document.documentElement).fontSize),o=$(window).scrollTop(),r=$(".navbar_wrapper"),u=!1;$(".background-color-charcoal").each(function(){let x=$(this).offset().top,p=$(this).height();if(o<=x+p-t&&o>=x-t)return u=!0,!1}),u&&!r.hasClass("background-color-charcoal")?r.addClass("background-color-charcoal"):!u&&r.hasClass("background-color-charcoal")&&r.removeClass("background-color-charcoal")}$("[animated-hero]").each(function(){let e=$(this).find("h1").find("span"),t=gsap.timeline();t.add(q(e,.1)),t.to($(this).find(".hp-hero_par").find("p"),{opacity:1,stagger:.2},"<0.2"),t.to($(this).find(".button"),{opacity:1,stagger:.2},"<0.2")}),$("[output-text]").each(function(){S($(this)),l($(this))});let a=$("[faq-item]");a.click(function(){let e=$(this);e.hasClass("open")?e.removeClass("open"):(e.closest("section").find(a).filter(".open").click().removeClass("open"),e.addClass("open"))}),a.each(function(){$(this).attr("expand-default")==="true"&&$(this).trigger("click")});function h(e){$(e).each(function(){let t=$(this),o=$(".swiper-slide"),r=$(".autotabs_link"),u=$(".autotabs_content-item"),x=$(".progress-line"),p="is-active",T=11e3,N,k=new Map,L=!0,V=!1;function Z(){return[[".autotabs_wrap",".autotabs_menu","auto-tabs",{slidesPerView:"auto",spaceBetween:40,on:{init:i=>{E($(i.el).closest(".autotabs_wrap"),i.realIndex)},beforeTransitionStart:i=>{i.realIndex===i.slides-1&&(i.slideTo(0),E($(i.el).closest(".autotabs_wrap"),i.realIndex))},slideChange:i=>{E($(i.el).closest(".autotabs_wrap"),i.realIndex)}}},"mobile"]]}function W(i,c){if(!L)return;let g=(c+1)%$(i).find(o).length;N=setTimeout(()=>{E($(i),g),W($(i),g)},T)}function E(i,c,g=null){let C=g&&g.type==="click";H($(i));let b=$(i).find(o).eq(c).find(r),y=$(i).find(u).eq(c);if(b.addClass(p),y.find("video").length){let I=y.find("video").get(0);I.readyState>=3?(I.currentTime=0,I.play()):I.addEventListener("loadeddata",function(){I.currentTime=0,I.play()})}y.stop().css("display","flex").fadeIn(function(){y.css("opacity","1"),y.find(".chat-conv_box").length?te($(i),c):y.find(".code-box").length&&ie($(y))}),C||ee(b)}function K(i){let c=i.get(0);if(k.get(c))return;L=!0,k.set(c,!0);let g=0;E($(i),g),W($(i),g)}function ee(i){i.find(x).animate({width:"100%"},T)}let z;function te(i,c){z&&z.kill();let g=$(i).find(u).eq(c),C=g.find("[input-text]"),b=g.find("[output-text]");C.stop().animate({opacity:1},function(){setTimeout(()=>{z=q(b,2/b.text().length)},250)})}let B;function ie(i){let c=$(i).find("code").text().length;B&&B.kill(),B=J(i,2/c)}function ne(i){let c=i.get(0);F($(i)),k.set(c,!1)}function F(i){L=!1,clearTimeout(N),H(i),$(i).find(u).eq(0).show()}function H(i){$(i).find(r).filter(`.${p}`).removeClass(p),$(i).find(x).stop(!0,!0).css("width","0%"),$(i).find(u).hide(),$(i).find(u).find(".letter").css("visibility","hidden"),l($(i).find(u).find("[input-text]"),!1)}let ce=$(window).width(),R=null,_=new Map;function X(i){let c=i.get(0),g=k.get(c)||!1,C=$(window).width();C!==R&&(R=C,C<=991?g&&ne(i):oe(i))}function oe(i){i.each(function(){let c=$(this);_.has(c[0])&&(_.get(c[0]).disconnect(),_.delete(c[0]))}),i.each(function(){let c=$(this),g=new IntersectionObserver(C=>{C.forEach(b=>{let y=b.target,I=k.get(y)||!1;b.isIntersecting&&(b.isIntersecting&&!I&&K($(b.target)),_.has(b.target)&&(_.get(b.target).disconnect(),_.delete(b.target)))})},{root:null,rootMargin:"0px",threshold:.5});g.observe(c[0]),_.set(c[0],g)})}X(t),P(Z(t)),$(window).on("resize",()=>{X(t)}),t.find(o).on("click",function(i){$(window).width()>=992&&(F(t),E(t,$(this).index(),i))})})}h($(".autotabs_wrap")),$(".chat-conv_copy-icon").on("click",function(){let e=$(this).closest(".chat-conv").length?$(this).closest(".chat-conv"):$(this).closest(".code-box"),t=e.find("[input-text]").text()||e.find("[output-text]").text()||e.find(".code-box_code").text();t&&M(t)}),$(".pill-header").each(function(){gsap.timeline({paused:!0,scrollTrigger:{trigger:$(this),start:"center bottom"}}).add(d($(this)))});function d(e){let t=$(e).find(".pill-a, .pill-b, .pill-circle, .callout_p"),o=gsap.timeline({defaults:{ease:"power3.out"}});return t.each(function(){let r=$(this),u=r.attr("class").split(" ")[0],x=r.find('div[class*="text"]');u==="pill-a"||u==="pill-b"?(o.fromTo(r.find("[mask]"),{xPercent:-100},{xPercent:0,duration:.3}),r.attr("direction")==="vertical"?o.fromTo(x,{yPercent:150},{yPercent:0,duration:.5}):o.fromTo(x,{xPercent:-110},{xPercent:0,duration:.5},"<0.2")):u==="callout_p"?o.add(q(r,.02)):u==="pill-circle"&&o.fromTo(r,{scale:0},{scale:1}),o.add(o,"-=0.2")}),o}$("input[type='radio'][name='filter']").change(function(){let e=$(this).closest("section");e.find("[fs-cmsfilter-element='clear']").removeClass("fs-cmsfilter_active"),e.find("input[type='radio'][name='filter']:checked").closest("[fs-cmsfilter-element='clear']").addClass("fs-cmsfilter_active")});function f(e){$(e).toggleClass("open")}$(".filters").find(".button").on("click",function(){let e=$(this).closest(".filters").find(".filters-block");f(e)}),$(document).on("click",function(e){($(e.target).closest(".filters").length===0||$(e.target).closest(".filters-menu").length>=1)&&f($(".filters-block.open"))}),$(".filters .tab").on("click",function(){let e=$(this).text();$(this).closest(".filters").find(".button").find("div").eq(0).text(e)});let m=[[".section_case-quote",".case-quote_slider","case-study",{slidesPerView:1,spaceBetween:40,effect:"creative",creativeEffect:{prev:{translate:[0,0,-400]},next:{translate:["100%",0,0]}},loop:!0,autoplay:{delay:11e3,disableOnInteraction:!1},on:{init:e=>{let o=$(".case-quote_image").eq(e.realIndex);o.find("video").length&&v(o),A($(".section_case-quote"),e)},slideChange:e=>{let t=$(".case-quote_image"),o=t.eq(e.realIndex);t.hide(),t.stop().filter(o).fadeIn(),o.find("video").length&&v(o),A($(".section_case-quote"),e)}}},"all"],[".section_callout",".callout_box","callout",{slidesPerView:1,spaceBetween:40,loop:!0,autoplay:{delay:8e3,disableOnInteraction:!1},on:{init:function(e){$(this.slides).each((o,r)=>{console.log(r),r.gsapTimeline=gsap.timeline({paused:!0}),r.gsapTimeline.add(d($(r)))}),$(this.slidesEl).css("opacity","1");let t=$(this.slides).eq(this.activeIndex);A($(".callout_wrap"),this),t[0].gsapTimeline.play()},slideChange:function(){$(this.slides).each((t,o)=>{o.gsapTimeline&&(o.gsapTimeline.progress(0).pause(),o.gsapTimeline.kill())}),$(this.slides).eq(this.activeIndex)[0].gsapTimeline.play(),A($(".callout_wrap"),this)}}},"all"]];function v(e){let t=e.find("video").get(0);t.readyState>=3?(t.currentTime=0,t.play()):t.addEventListener("loadeddata",function(){t.currentTime=0,t.play()})}P(m);let w;setTimeout(()=>{P(m),$(".case-quote_content-box").find(".navigation-box").on("mouseenter",function(){let e=$(this).index();swipers["case-study"]["case-study_0"].swiperInstance.slideToLoop(e)}),$(".callout_wrap").find(".navigation-box").on("mouseenter",function(){w=setTimeout(()=>{let e=$(this).index();swipers.callout.callout_0.swiperInstance.slideToLoop(e)},500)}),$(".callout_wrap").find(".navigation-box").on("mouseleave",function(){clearTimeout(w)})},200)});})();
